{"version":3,"sources":["/Users/marcin/dev/laboratory-results/client/data/models/index.ts","/Users/marcin/dev/laboratory-results/client/data/models/StudyState.ts","/Users/marcin/dev/laboratory-results/client/axios.ts","/Users/marcin/dev/laboratory-results/client/api/index.web.js","/Users/marcin/dev/laboratory-results/client/data/index.ts","/Users/marcin/dev/laboratory-results/client/components/NetworkErrorBanner.tsx","/Users/marcin/dev/laboratory-results/client/screens/BaseScreen.tsx","/Users/marcin/dev/laboratory-results/client/screens/AddStudyScreen.tsx","/Users/marcin/dev/laboratory-results/client/screens/ModifyStudyScreen.tsx","/Users/marcin/dev/laboratory-results/client/websocket/index.web.js","/Users/marcin/dev/laboratory-results/client/components/StationDetails.tsx","/Users/marcin/dev/laboratory-results/client/components/StationsView.tsx","/Users/marcin/dev/laboratory-results/client/screens/ResultsScreen.tsx","/Users/marcin/dev/laboratory-results/client/components/StudiesListItem.tsx","/Users/marcin/dev/laboratory-results/client/screens/StudiesScreen.tsx","/Users/marcin/dev/laboratory-results/client/screens/StudyDetailsScreen.tsx","/Users/marcin/dev/laboratory-results/client/providers/NavigationProvider.tsx","/Users/marcin/dev/laboratory-results/client/theming/LightTheme.ts","/Users/marcin/dev/laboratory-results/client/App.tsx","/Users/marcin/dev/laboratory-results/client/web-build/register-service-worker.js","/Users/marcin/dev/laboratory-results/client/node_modules/moment/locale sync /^/.//.*$"],"names":["StudyState","instance","axios","create","baseURL","timeout","getStudies","params","a","async","get","response","data","addStudy","name","post","updateStudy","id","state","put","getStudyResults","page","results","stationId","getStudyStations","NetworkErrorBanner","React","visible","setVisible","message","setMessage","body","setBody","interceptor","interceptors","use","error","Promise","reject","eject","current","Banner","actions","label","onPress","icon","props","Feather","BaseScreen","View","style","flex","children","AddStudyScreen","route","navigation","onSubmit","setName","TextInput","value","onChangeText","Button","mode","goBack","styles","StyleSheet","row","flexDirection","justifyContent","ModifyStudyScreen","study","Enabled","setState","Subheading","moment","created","format","Switch","onValueChange","Disabled","__DEV__","window","location","hostname","StationDetails","studyId","setResults","setPage","totalResults","setTotalResults","totalPages","setTotalPages","loading","setLoading","getResults","result","items","Platform","OS","webSocket","WebSocket","baseUri","startConnection","onmessage","e","item","JSON","parse","pop","cancelConnection","close","DataTable","Header","Title","numeric","ActivityIndicator","map","Row","key","Cell","sensorId","Pagination","numberOfPages","onPageChange","Math","min","Tab","createMaterialTopTabNavigator","StationsView","stations","Navigator","lazy","Screen","ResultsScreen","setStations","getStations","setOptions","headerRight","IconButton","size","color","navigate","length","StudiesListItem","onEditSubmit","useNavigation","TouchableRipple","onLongPress","Item","title","description","left","Icon","right","StudiesScreen","fab","fabOpened","setFabOpened","setItems","loadData","Section","FAB","Group","open","onStateChange","ResultsList","StudyDetailsScreen","Stack","createStackNavigator","withTheme","theme","NavigationContainer","screenOptions","headerStyle","backgroundColor","colors","primary","headerTintColor","headerTitleStyle","fontWeight","component","options","LightTheme","DefaultTheme","accent","backdrop","App","type","require","navigator","addEventListener","serviceWorker","register","scope","then","info","catch","console","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports"],"mappings":"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","file":"static/js/app.d203b2af.chunk.js","sourcesContent":["export * from './AddStudyCommand';\nexport * from './AddStudyResultCommand';\nexport * from './GetStudiesQuery';\nexport * from './GetStudyResultsQuery';\nexport * from './GetStudyStationsQuery';\nexport * from './Study';\nexport * from './Result';\nexport * from './StudyState';\nexport * from './UpdateStudyCommand';\n","export enum StudyState {\n  Enabled = 'Enabled',\n  Disabled = 'Disabled',\n}\n","import axios from 'axios';\n\n//@ts-ignore\nimport baseUrl from './api';\n\nconst instance = axios.create({\n  baseURL: baseUrl,\n  timeout: 10000,\n});\n\nexport { instance as axios };\n","export default '/api';\n","import { axios } from '../axios';\nimport {\n  GetStudiesQuery,\n  AddStudyCommand,\n  UpdateStudyCommand,\n  AddStudyResultCommand,\n  GetStudyResultsQuery,\n  Study,\n} from './models';\nimport { GetStudyStationsQuery } from './models/GetStudyStationsQuery';\nimport { QueryResponse } from './models/QueryResponse';\nimport { Result } from './models/Result';\n\n// GET /apiâ€‹/studies\nconst getStudies = async (params?: GetStudiesQuery) => {\n  const response = await axios.get<QueryResponse<Study>>('studies', { params });\n  return response.data;\n};\n\n// POST /api/study\nconst addStudy = ({ name }: AddStudyCommand) => axios.post('study', { name });\n\n// PUT /api/study/{id}\nconst updateStudy = ({ id, name, state }: UpdateStudyCommand) =>\n  axios.put(`study/${id}`, { name, state });\n\n// PUT /api/study/{id}/result\nconst addStudyResult = ({ id, stationId, sensorId, value, timestamp }: AddStudyResultCommand) =>\n  axios.put(`study/${id}/result`, { stationId, sensorId, value, timestamp });\n\n// GET /api/study/{id}/results\nconst getStudyResults = async ({ id, page, results, stationId }: GetStudyResultsQuery) => {\n  const response = await axios.get<QueryResponse<Result>>(`study/${id}/results`, {\n    params: { page, results, stationId },\n  });\n  return response.data;\n};\n\n// GET /api/study/{id}/stations\nconst getStudyStations = async ({ id }: GetStudyStationsQuery) => {\n  const response = await axios.get<number[]>(`study/${id}/stations`);\n  return response.data;\n};\n\nexport { getStudies, addStudy, updateStudy, addStudyResult, getStudyResults, getStudyStations };\n","import { Feather } from '@expo/vector-icons';\nimport * as React from 'react';\nimport { Banner } from 'react-native-paper';\n\nimport { axios } from '../axios';\n\nconst NetworkErrorBanner = () => {\n  const [visible, setVisible] = React.useState<boolean>(false);\n  const [message, setMessage] = React.useState<string>('');\n  const [body, setBody] = React.useState<string>('');\n\n  const interceptor = React.useRef(\n    axios.interceptors.response.use(\n      response => {\n        setBody(response.data);\n        return response;\n      },\n      error => {\n        setVisible(true);\n        setMessage(error.message);\n        return Promise.reject(error);\n      }\n    )\n  );\n\n  React.useEffect(() => {\n    return () => {\n      axios.interceptors.response.eject(interceptor.current);\n    };\n  });\n\n  return (\n    <Banner\n      visible={visible}\n      actions={[\n        {\n          label: 'Ok',\n          onPress: () => setVisible(false),\n        },\n      ]}\n      icon={props => <Feather {...props} name=\"wifi-off\" />}>\n      {`${message}\\n${body}`}\n    </Banner>\n  );\n};\n\nexport default NetworkErrorBanner;\n","import * as React from 'react';\nimport { View } from 'react-native';\n\nimport NetworkErrorBanner from '../components/NetworkErrorBanner';\n\nconst BaseScreen = props => {\n  return (\n    <View style={{ flex: 1 }}>\n      <NetworkErrorBanner />\n      {props.children}\n    </View>\n  );\n};\n\nexport default BaseScreen;\n","import { RouteProp } from '@react-navigation/native';\nimport { StackNavigationProp } from '@react-navigation/stack';\nimport * as React from 'react';\nimport { TextInput, Button } from 'react-native-paper';\n\nimport { addStudy } from '../data';\nimport { RootStackParamList } from '../providers/NavigationProvider';\nimport BaseScreen from './BaseScreen';\n\ntype AddStudyScreenProps = {\n  route: RouteProp<RootStackParamList, 'AddStudy'>;\n  navigation: StackNavigationProp<RootStackParamList>;\n};\n\nconst AddStudyScreen = ({ route, navigation }: AddStudyScreenProps) => {\n  const { onSubmit } = route.params;\n  const [name, setName] = React.useState<string>('');\n\n  const handleSave = async () => {\n    await addStudy({ name });\n    await onSubmit();\n    navigation.goBack();\n  };\n\n  return (\n    <BaseScreen>\n      <TextInput label=\"Name\" value={name} onChangeText={setName} />\n      <Button icon=\"content-save\" mode=\"contained\" onPress={handleSave}>\n        Save\n      </Button>\n    </BaseScreen>\n  );\n};\n\nexport default AddStudyScreen;\n","import { RouteProp } from '@react-navigation/native';\nimport { StackNavigationProp } from '@react-navigation/stack';\nimport moment from 'moment';\nimport * as React from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport { Subheading, TextInput, Switch, Button } from 'react-native-paper';\n\nimport { updateStudy } from '../data';\nimport { StudyState } from '../data/models';\nimport { RootStackParamList } from '../providers/NavigationProvider';\nimport BaseScreen from './BaseScreen';\n\ntype ModifyStudyScreenProps = {\n  route: RouteProp<RootStackParamList, 'ModifyStudy'>;\n  navigation: StackNavigationProp<RootStackParamList>;\n};\n\nconst ModifyStudyScreen = ({ route, navigation }: ModifyStudyScreenProps) => {\n  const { study, onSubmit } = route.params;\n  const [name, setName] = React.useState<string>(study.name);\n  const [state, setState] = React.useState<StudyState>(study.state || StudyState.Enabled);\n\n  const handleSave = async () => {\n    await updateStudy({ id: study.id, name, state });\n    await onSubmit();\n    navigation.goBack();\n  };\n\n  return (\n    <BaseScreen>\n      <View style={styles.row}>\n        <Subheading>Id</Subheading>\n        <Subheading>{study.id}</Subheading>\n      </View>\n      <View style={styles.row}>\n        <Subheading>Created</Subheading>\n        <Subheading>{moment(study.created).format('DD MMM HH:mm')}</Subheading>\n      </View>\n      <TextInput label=\"Name\" value={name} onChangeText={setName} />\n      <View style={styles.row}>\n        <Subheading>{state}</Subheading>\n        <Switch\n          value={state === StudyState.Enabled}\n          onValueChange={() => {\n            setState(state === StudyState.Enabled ? StudyState.Disabled : StudyState.Enabled);\n          }}\n        />\n      </View>\n      <Button icon=\"content-save\" mode=\"contained\" onPress={handleSave}>\n        Save\n      </Button>\n    </BaseScreen>\n  );\n};\n\nconst styles = StyleSheet.create({\n  row: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n});\n\nexport default ModifyStudyScreen;\n","export default __DEV__ ? 'ws://localhost:5100/api/ws' : `ws://${window.location.hostname}/api/ws`;\n","import moment from 'moment';\nimport * as React from 'react';\nimport { Platform } from 'react-native';\nimport { ScrollView } from 'react-native-gesture-handler';\nimport { Surface, Text, DataTable, ActivityIndicator } from 'react-native-paper';\n\nimport { getStudyResults } from '../data';\nimport { Result } from '../data/models';\nimport baseUri from '../websocket';\n\nconst itemsPerPage = 5;\n\ntype StationDetailsProps = {\n  studyId: string;\n  stationId: number;\n};\n\nconst StationDetails = ({ studyId, stationId }: StationDetailsProps) => {\n  const [results, setResults] = React.useState<Result[]>([]);\n  const [page, setPage] = React.useState(0);\n  const [totalResults, setTotalResults] = React.useState(0);\n  const [totalPages, setTotalPages] = React.useState(0);\n  const [loading, setLoading] = React.useState(true);\n  React.useEffect(() => {\n    getResults();\n  }, [page]);\n\n  const getResults = async () => {\n    const result = await getStudyResults({ id: studyId, page, results: itemsPerPage, stationId });\n    setTotalPages(result.totalPages);\n    setTotalResults(result.totalResults);\n    setResults(result.items);\n    setLoading(false);\n  };\n  // websockets doesnt work on web due to usecure connection - SSL/TLS setup required on server side\n  if (Platform.OS !== 'web') {\n    const webSocket = React.useRef(\n      new WebSocket(`${baseUri}/studyresults?id=${studyId}&stationId=${stationId}`)\n    );\n    const startConnection = React.useCallback(() => {\n      webSocket.current.onmessage = e => {\n        const item = JSON.parse(e.data) as Result;\n        setResults(items => {\n          items.pop();\n          return [item, ...items];\n        });\n      };\n    }, []);\n\n    const cancelConnection = React.useCallback(() => {\n      webSocket.current.close();\n    }, []);\n\n    React.useEffect(() => {\n      startConnection();\n      return () => {\n        cancelConnection();\n      };\n    }, []);\n  }\n  return (\n    <ScrollView>\n      <DataTable>\n        <DataTable.Header>\n          <DataTable.Title>Created</DataTable.Title>\n          <DataTable.Title numeric>SensorId</DataTable.Title>\n          <DataTable.Title numeric>Value</DataTable.Title>\n        </DataTable.Header>\n        {loading ? (\n          <ActivityIndicator />\n        ) : (\n          results.map(item => (\n            <DataTable.Row key={item.created}>\n              <DataTable.Cell>{moment(item.created).format('DD MMM HH:mm')}</DataTable.Cell>\n              <DataTable.Cell numeric>{item.sensorId}</DataTable.Cell>\n              <DataTable.Cell numeric>{item.value}</DataTable.Cell>\n            </DataTable.Row>\n          ))\n        )}\n        <DataTable.Pagination\n          page={page}\n          numberOfPages={totalPages}\n          onPageChange={page => setPage(page)}\n          label={`${page * itemsPerPage + 1} - ${Math.min(\n            page * itemsPerPage + itemsPerPage,\n            totalResults\n          )} of ${totalResults}`}\n        />\n      </DataTable>\n    </ScrollView>\n  );\n};\n\nexport default StationDetails;\n","import { createMaterialTopTabNavigator } from '@react-navigation/material-top-tabs';\nimport * as React from 'react';\n\nimport StationDetails from './StationDetails';\n\ntype StationsViewProps = {\n  studyId: string;\n  stations: number[];\n};\n\nconst Tab = createMaterialTopTabNavigator();\n\nconst StationsView = ({ stations, studyId }: StationsViewProps) => (\n  <Tab.Navigator lazy>\n    {stations.map(item => (\n      <Tab.Screen name={`Station ${item}`}>\n        {props => <StationDetails {...props} studyId={studyId} stationId={item} />}\n      </Tab.Screen>\n    ))}\n  </Tab.Navigator>\n);\n\nexport default StationsView;\n","import { RouteProp } from '@react-navigation/native';\nimport { StackNavigationProp } from '@react-navigation/stack';\nimport * as React from 'react';\nimport { IconButton } from 'react-native-paper';\n\nimport StationsView from '../components/StationsView';\nimport { getStudyStations } from '../data';\nimport { RootStackParamList } from '../providers/NavigationProvider';\nimport BaseScreen from './BaseScreen';\n\ntype ResultsScreenProps = {\n  route: RouteProp<RootStackParamList, 'Results'>;\n  navigation: StackNavigationProp<RootStackParamList>;\n};\n\nconst ResultsScreen = ({ route, navigation }: ResultsScreenProps) => {\n  const { study } = route.params;\n\n  const [stations, setStations] = React.useState<number[]>([]);\n  React.useEffect(() => {\n    getStations();\n  }, []);\n\n  const getStations = async () => {\n    const result = await getStudyStations({ id: study.id });\n    setStations(result);\n  };\n\n  React.useLayoutEffect(() => {\n    navigation.setOptions({\n      headerRight: () => (\n        <IconButton\n          icon=\"content-paste\"\n          size={20}\n          color=\"white\"\n          onPress={() => navigation.navigate('StudyDetails', { study })}\n        />\n      ),\n    });\n  }, []);\n\n  return (\n    <BaseScreen>\n      {stations.length > 0 && <StationsView stations={stations} studyId={study.id} />}\n    </BaseScreen>\n  );\n};\n\nexport default ResultsScreen;\n","import { useNavigation } from '@react-navigation/native';\nimport moment from 'moment';\nimport * as React from 'react';\nimport { List, TouchableRipple } from 'react-native-paper';\n\nimport { Study } from '../data/models';\n\ntype StudiesListItemProps = {\n  study: Study;\n  onEditSubmit: () => Promise<void>;\n};\n\nconst StudiesListItem = ({ study, onEditSubmit }: StudiesListItemProps) => {\n  const navigation = useNavigation();\n\n  const handleItemPress = () => {\n    navigation.navigate('Results', { study });\n  };\n\n  const handleItemLongPress = () => {\n    navigation.navigate('ModifyStudy', { study, onSubmit: onEditSubmit });\n  };\n\n  return (\n    <TouchableRipple onPress={handleItemPress} onLongPress={handleItemLongPress}>\n      <List.Item\n        title={study.name}\n        description={moment(study.created).format('DD MMM YYYY HH:mm')}\n        left={props => <List.Icon {...props} icon=\"folder\" />}\n        right={props => <List.Icon {...props} icon=\"chevron-right\" />}\n      />\n    </TouchableRipple>\n  );\n};\n\nexport default StudiesListItem;\n","import { StackNavigationProp } from '@react-navigation/stack';\nimport * as React from 'react';\nimport { StyleSheet } from 'react-native';\nimport { FAB, List, ActivityIndicator } from 'react-native-paper';\n\nimport StudiesListItem from '../components/StudiesListItem';\nimport { getStudies } from '../data';\nimport { Study } from '../data/models';\nimport { RootStackParamList } from '../providers/NavigationProvider';\nimport BaseScreen from './BaseScreen';\n\ntype StudiesScreenProps = {\n  navigation: StackNavigationProp<RootStackParamList>;\n};\n\nconst StudiesScreen = ({ navigation }: StudiesScreenProps) => {\n  const [fabOpened, setFabOpened] = React.useState<boolean>(false);\n\n  const [items, setItems] = React.useState<Study[]>([]);\n  //todo handle pagination\n  const [page, setPage] = React.useState<number>(0);\n  const [loading, setLoading] = React.useState<boolean>(true);\n\n  React.useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    setLoading(true);\n    const result = await getStudies({ page });\n    setItems(result.items);\n    setLoading(false);\n  };\n\n  const handleAddNewPress = () => {\n    navigation.navigate('AddStudy', { onSubmit: loadData });\n  };\n\n  const handleRefreshPress = () => {\n    // todo handle refresh\n  };\n\n  return (\n    <BaseScreen>\n      <List.Section title=\"Studies\">\n        {loading && <ActivityIndicator />}\n        {items.map(item => (\n          <StudiesListItem key={item.created} study={item} onEditSubmit={loadData} />\n        ))}\n      </List.Section>\n      <FAB.Group\n        open={fabOpened}\n        visible\n        icon={fabOpened ? 'close' : 'plus'}\n        actions={[\n          { icon: 'plus', label: 'Add new', onPress: handleAddNewPress },\n          { icon: 'refresh', label: 'Refresh list', onPress: handleRefreshPress },\n        ]}\n        onStateChange={({ open }) => setFabOpened(open)}\n      />\n    </BaseScreen>\n  );\n};\n\nconst styles = StyleSheet.create({\n  fab: {},\n});\n\nexport default StudiesScreen;\n","import { RouteProp } from '@react-navigation/native';\nimport { StackNavigationProp } from '@react-navigation/stack';\nimport moment from 'moment';\nimport * as React from 'react';\nimport { StyleSheet, View, Platform } from 'react-native';\nimport { ScrollView } from 'react-native-gesture-handler';\nimport { Subheading, DataTable, ActivityIndicator } from 'react-native-paper';\n\nimport { getStudyResults } from '../data';\nimport { Result } from '../data/models';\nimport { RootStackParamList } from '../providers/NavigationProvider';\nimport baseUri from '../websocket';\nimport BaseScreen from './BaseScreen';\n\nconst itemsPerPage = 5;\n\ntype ResultsListProps = {\n  studyId: string;\n};\n\nconst ResultsList = ({ studyId }: ResultsListProps) => {\n  const [results, setResults] = React.useState<Result[]>([]);\n  const [page, setPage] = React.useState(0);\n  const [totalResults, setTotalResults] = React.useState(0);\n  const [totalPages, setTotalPages] = React.useState(0);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    getResults();\n  }, [page]);\n\n  const getResults = async () => {\n    const result = await getStudyResults({ id: studyId, page, results: itemsPerPage });\n    setTotalPages(result.totalPages);\n    setTotalResults(result.totalResults);\n    setResults(result.items);\n    setLoading(false);\n  };\n\n  // websockets doesnt work on web due to usecure connection - SSL/TLS setup required on server side\n  if (Platform.OS !== 'web') {\n    const webSocket = React.useRef(new WebSocket(`${baseUri}/studyresults?id=${studyId}`));\n\n    const startConnection = React.useCallback(() => {\n      webSocket.current.onmessage = e => {\n        const item = JSON.parse(e.data) as Result;\n        setResults(items => {\n          items.pop();\n          return [item, ...items];\n        });\n        setTotalResults(totalResults => totalResults + 1);\n      };\n    }, []);\n\n    const cancelConnection = React.useCallback(() => {\n      webSocket.current.close();\n    }, []);\n\n    React.useEffect(() => {\n      startConnection();\n      return () => {\n        cancelConnection();\n      };\n    }, []);\n  }\n\n  return (\n    <ScrollView>\n      <DataTable>\n        <DataTable.Header>\n          <DataTable.Title>Created</DataTable.Title>\n          <DataTable.Title numeric>StationId</DataTable.Title>\n          <DataTable.Title numeric>SensorId</DataTable.Title>\n          <DataTable.Title numeric>Value</DataTable.Title>\n        </DataTable.Header>\n        {loading ? (\n          <ActivityIndicator />\n        ) : (\n          results.map(item => (\n            <DataTable.Row key={item.created}>\n              <DataTable.Cell>{moment(item.created).format('DD MMM HH:mm')}</DataTable.Cell>\n              <DataTable.Cell numeric>{item.stationId}</DataTable.Cell>\n              <DataTable.Cell numeric>{item.sensorId}</DataTable.Cell>\n              <DataTable.Cell numeric>{item.value}</DataTable.Cell>\n            </DataTable.Row>\n          ))\n        )}\n        <DataTable.Pagination\n          page={page}\n          numberOfPages={totalPages}\n          onPageChange={page => setPage(page)}\n          label={`${page * itemsPerPage + 1} - ${Math.min(\n            page * itemsPerPage + itemsPerPage,\n            totalResults\n          )} of ${totalResults}`}\n        />\n      </DataTable>\n    </ScrollView>\n  );\n};\n\ntype StudyDetailsScreenProps = {\n  route: RouteProp<RootStackParamList, 'Results'>;\n  navigation: StackNavigationProp<RootStackParamList>;\n};\n\nconst StudyDetailsScreen = ({ route }: StudyDetailsScreenProps) => {\n  const { study } = route.params;\n\n  return (\n    <BaseScreen>\n      <View style={styles.row}>\n        <Subheading>Id</Subheading>\n        <Subheading>{study.id}</Subheading>\n      </View>\n      <View style={styles.row}>\n        <Subheading>Created</Subheading>\n        <Subheading>{moment(study.created).format('DD MMM YYYY HH:mm')}</Subheading>\n      </View>\n      <View style={styles.row}>\n        <Subheading>State</Subheading>\n        <Subheading>{study.state}</Subheading>\n      </View>\n      <ResultsList studyId={study.id} />\n    </BaseScreen>\n  );\n};\n\nconst styles = StyleSheet.create({\n  row: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n});\n\nexport default StudyDetailsScreen;\n","import { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport * as React from 'react';\nimport { withTheme } from 'react-native-paper';\n\nimport { Study } from '../data/models/Study';\nimport AddStudyScreen from '../screens/AddStudyScreen';\nimport ModifyStudyScreen from '../screens/ModifyStudyScreen';\nimport ResultsScreen from '../screens/ResultsScreen';\nimport StudiesScreen from '../screens/StudiesScreen';\nimport StudyDetailsScreen from '../screens/StudyDetailsScreen';\n\nexport type RootStackParamList = {\n  Studies: undefined;\n  Results: { study: Study };\n  ModifyStudy: { study: Study; onSubmit: () => Promise<void> };\n  AddStudy: { onSubmit: () => Promise<void> };\n  StudyDetails: { study: Study };\n};\n\nconst Stack = createStackNavigator<RootStackParamList>();\n\nconst NavigationProvider = ({ theme }) => (\n  <NavigationContainer>\n    <Stack.Navigator\n      screenOptions={{\n        headerStyle: {\n          backgroundColor: theme.colors.primary,\n        },\n        headerTintColor: '#fff',\n        headerTitleStyle: {\n          fontWeight: 'bold',\n        },\n      }}>\n      <Stack.Screen name=\"Studies\" component={StudiesScreen} />\n      <Stack.Screen\n        name=\"Results\"\n        options={({ route }) => ({ title: route.params.study.name })}\n        component={ResultsScreen}\n      />\n      <Stack.Screen\n        name=\"ModifyStudy\"\n        options={({ route }) => ({\n          title: `Modify ${route.params.study.name}`,\n        })}\n        component={ModifyStudyScreen}\n      />\n      <Stack.Screen\n        name=\"AddStudy\"\n        options={() => ({\n          title: `Add a new study`,\n        })}\n        component={AddStudyScreen}\n      />\n      <Stack.Screen\n        name=\"StudyDetails\"\n        options={({ route }) => ({\n          title: `${route.params.study.name} details`,\n        })}\n        component={StudyDetailsScreen}\n      />\n    </Stack.Navigator>\n  </NavigationContainer>\n);\n\nexport default withTheme(NavigationProvider);\n","import { DefaultTheme } from 'react-native-paper';\n\nconst LightTheme = {\n  ...DefaultTheme,\n  colors: {\n    ...DefaultTheme.colors,\n    primary: '#1a237e',\n    accent: '#000051',\n    backdrop: 'rgba(255, 255, 255, 0.92)',\n  },\n};\n\nexport default LightTheme;\n","import * as React from 'react';\nimport { Platform } from 'react-native';\nimport { Provider as PaperProvider } from 'react-native-paper';\n\nimport NavigationProvider from './providers/NavigationProvider';\nimport LightTheme from './theming/LightTheme';\n\nexport default function App() {\n  return (\n    <PaperProvider theme={LightTheme}>\n      <>\n        {Platform.OS === 'web' ? (\n          <style type=\"text/css\">{`\n        @font-face {\n          font-family: 'MaterialCommunityIcons';\n          src: url(${require('@expo/vector-icons/build/vendor/react-native-vector-icons/Fonts/MaterialCommunityIcons.ttf')}) format('truetype');\n        }\n      `}</style>\n        ) : null}\n        <NavigationProvider />\n      </>\n    </PaperProvider>\n  );\n}\n","/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function() {\n    navigator.serviceWorker\n      .register('/expo-service-worker.js', { scope: '/' })\n      .then(function(info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function(error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n","var map = {\n\t\"./af\": 230,\n\t\"./af.js\": 230,\n\t\"./ar\": 231,\n\t\"./ar-dz\": 232,\n\t\"./ar-dz.js\": 232,\n\t\"./ar-kw\": 233,\n\t\"./ar-kw.js\": 233,\n\t\"./ar-ly\": 234,\n\t\"./ar-ly.js\": 234,\n\t\"./ar-ma\": 235,\n\t\"./ar-ma.js\": 235,\n\t\"./ar-sa\": 236,\n\t\"./ar-sa.js\": 236,\n\t\"./ar-tn\": 237,\n\t\"./ar-tn.js\": 237,\n\t\"./ar.js\": 231,\n\t\"./az\": 238,\n\t\"./az.js\": 238,\n\t\"./be\": 239,\n\t\"./be.js\": 239,\n\t\"./bg\": 240,\n\t\"./bg.js\": 240,\n\t\"./bm\": 241,\n\t\"./bm.js\": 241,\n\t\"./bn\": 242,\n\t\"./bn.js\": 242,\n\t\"./bo\": 243,\n\t\"./bo.js\": 243,\n\t\"./br\": 244,\n\t\"./br.js\": 244,\n\t\"./bs\": 245,\n\t\"./bs.js\": 245,\n\t\"./ca\": 246,\n\t\"./ca.js\": 246,\n\t\"./cs\": 247,\n\t\"./cs.js\": 247,\n\t\"./cv\": 248,\n\t\"./cv.js\": 248,\n\t\"./cy\": 249,\n\t\"./cy.js\": 249,\n\t\"./da\": 250,\n\t\"./da.js\": 250,\n\t\"./de\": 251,\n\t\"./de-at\": 252,\n\t\"./de-at.js\": 252,\n\t\"./de-ch\": 253,\n\t\"./de-ch.js\": 253,\n\t\"./de.js\": 251,\n\t\"./dv\": 254,\n\t\"./dv.js\": 254,\n\t\"./el\": 255,\n\t\"./el.js\": 255,\n\t\"./en-SG\": 256,\n\t\"./en-SG.js\": 256,\n\t\"./en-au\": 257,\n\t\"./en-au.js\": 257,\n\t\"./en-ca\": 258,\n\t\"./en-ca.js\": 258,\n\t\"./en-gb\": 259,\n\t\"./en-gb.js\": 259,\n\t\"./en-ie\": 260,\n\t\"./en-ie.js\": 260,\n\t\"./en-il\": 261,\n\t\"./en-il.js\": 261,\n\t\"./en-nz\": 262,\n\t\"./en-nz.js\": 262,\n\t\"./eo\": 263,\n\t\"./eo.js\": 263,\n\t\"./es\": 264,\n\t\"./es-do\": 265,\n\t\"./es-do.js\": 265,\n\t\"./es-us\": 266,\n\t\"./es-us.js\": 266,\n\t\"./es.js\": 264,\n\t\"./et\": 267,\n\t\"./et.js\": 267,\n\t\"./eu\": 268,\n\t\"./eu.js\": 268,\n\t\"./fa\": 269,\n\t\"./fa.js\": 269,\n\t\"./fi\": 270,\n\t\"./fi.js\": 270,\n\t\"./fo\": 271,\n\t\"./fo.js\": 271,\n\t\"./fr\": 272,\n\t\"./fr-ca\": 273,\n\t\"./fr-ca.js\": 273,\n\t\"./fr-ch\": 274,\n\t\"./fr-ch.js\": 274,\n\t\"./fr.js\": 272,\n\t\"./fy\": 275,\n\t\"./fy.js\": 275,\n\t\"./ga\": 276,\n\t\"./ga.js\": 276,\n\t\"./gd\": 277,\n\t\"./gd.js\": 277,\n\t\"./gl\": 278,\n\t\"./gl.js\": 278,\n\t\"./gom-latn\": 279,\n\t\"./gom-latn.js\": 279,\n\t\"./gu\": 280,\n\t\"./gu.js\": 280,\n\t\"./he\": 281,\n\t\"./he.js\": 281,\n\t\"./hi\": 282,\n\t\"./hi.js\": 282,\n\t\"./hr\": 283,\n\t\"./hr.js\": 283,\n\t\"./hu\": 284,\n\t\"./hu.js\": 284,\n\t\"./hy-am\": 285,\n\t\"./hy-am.js\": 285,\n\t\"./id\": 286,\n\t\"./id.js\": 286,\n\t\"./is\": 287,\n\t\"./is.js\": 287,\n\t\"./it\": 288,\n\t\"./it-ch\": 289,\n\t\"./it-ch.js\": 289,\n\t\"./it.js\": 288,\n\t\"./ja\": 290,\n\t\"./ja.js\": 290,\n\t\"./jv\": 291,\n\t\"./jv.js\": 291,\n\t\"./ka\": 292,\n\t\"./ka.js\": 292,\n\t\"./kk\": 293,\n\t\"./kk.js\": 293,\n\t\"./km\": 294,\n\t\"./km.js\": 294,\n\t\"./kn\": 295,\n\t\"./kn.js\": 295,\n\t\"./ko\": 296,\n\t\"./ko.js\": 296,\n\t\"./ku\": 297,\n\t\"./ku.js\": 297,\n\t\"./ky\": 298,\n\t\"./ky.js\": 298,\n\t\"./lb\": 299,\n\t\"./lb.js\": 299,\n\t\"./lo\": 300,\n\t\"./lo.js\": 300,\n\t\"./lt\": 301,\n\t\"./lt.js\": 301,\n\t\"./lv\": 302,\n\t\"./lv.js\": 302,\n\t\"./me\": 303,\n\t\"./me.js\": 303,\n\t\"./mi\": 304,\n\t\"./mi.js\": 304,\n\t\"./mk\": 305,\n\t\"./mk.js\": 305,\n\t\"./ml\": 306,\n\t\"./ml.js\": 306,\n\t\"./mn\": 307,\n\t\"./mn.js\": 307,\n\t\"./mr\": 308,\n\t\"./mr.js\": 308,\n\t\"./ms\": 309,\n\t\"./ms-my\": 310,\n\t\"./ms-my.js\": 310,\n\t\"./ms.js\": 309,\n\t\"./mt\": 311,\n\t\"./mt.js\": 311,\n\t\"./my\": 312,\n\t\"./my.js\": 312,\n\t\"./nb\": 313,\n\t\"./nb.js\": 313,\n\t\"./ne\": 314,\n\t\"./ne.js\": 314,\n\t\"./nl\": 315,\n\t\"./nl-be\": 316,\n\t\"./nl-be.js\": 316,\n\t\"./nl.js\": 315,\n\t\"./nn\": 317,\n\t\"./nn.js\": 317,\n\t\"./pa-in\": 318,\n\t\"./pa-in.js\": 318,\n\t\"./pl\": 319,\n\t\"./pl.js\": 319,\n\t\"./pt\": 320,\n\t\"./pt-br\": 321,\n\t\"./pt-br.js\": 321,\n\t\"./pt.js\": 320,\n\t\"./ro\": 322,\n\t\"./ro.js\": 322,\n\t\"./ru\": 323,\n\t\"./ru.js\": 323,\n\t\"./sd\": 324,\n\t\"./sd.js\": 324,\n\t\"./se\": 325,\n\t\"./se.js\": 325,\n\t\"./si\": 326,\n\t\"./si.js\": 326,\n\t\"./sk\": 327,\n\t\"./sk.js\": 327,\n\t\"./sl\": 328,\n\t\"./sl.js\": 328,\n\t\"./sq\": 329,\n\t\"./sq.js\": 329,\n\t\"./sr\": 330,\n\t\"./sr-cyrl\": 331,\n\t\"./sr-cyrl.js\": 331,\n\t\"./sr.js\": 330,\n\t\"./ss\": 332,\n\t\"./ss.js\": 332,\n\t\"./sv\": 333,\n\t\"./sv.js\": 333,\n\t\"./sw\": 334,\n\t\"./sw.js\": 334,\n\t\"./ta\": 335,\n\t\"./ta.js\": 335,\n\t\"./te\": 336,\n\t\"./te.js\": 336,\n\t\"./tet\": 337,\n\t\"./tet.js\": 337,\n\t\"./tg\": 338,\n\t\"./tg.js\": 338,\n\t\"./th\": 339,\n\t\"./th.js\": 339,\n\t\"./tl-ph\": 340,\n\t\"./tl-ph.js\": 340,\n\t\"./tlh\": 341,\n\t\"./tlh.js\": 341,\n\t\"./tr\": 342,\n\t\"./tr.js\": 342,\n\t\"./tzl\": 343,\n\t\"./tzl.js\": 343,\n\t\"./tzm\": 344,\n\t\"./tzm-latn\": 345,\n\t\"./tzm-latn.js\": 345,\n\t\"./tzm.js\": 344,\n\t\"./ug-cn\": 346,\n\t\"./ug-cn.js\": 346,\n\t\"./uk\": 347,\n\t\"./uk.js\": 347,\n\t\"./ur\": 348,\n\t\"./ur.js\": 348,\n\t\"./uz\": 349,\n\t\"./uz-latn\": 350,\n\t\"./uz-latn.js\": 350,\n\t\"./uz.js\": 349,\n\t\"./vi\": 351,\n\t\"./vi.js\": 351,\n\t\"./x-pseudo\": 352,\n\t\"./x-pseudo.js\": 352,\n\t\"./yo\": 353,\n\t\"./yo.js\": 353,\n\t\"./zh-cn\": 354,\n\t\"./zh-cn.js\": 354,\n\t\"./zh-hk\": 355,\n\t\"./zh-hk.js\": 355,\n\t\"./zh-tw\": 356,\n\t\"./zh-tw.js\": 356\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 586;"],"sourceRoot":""}